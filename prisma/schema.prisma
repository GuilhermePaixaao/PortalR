generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql" // <-- CORRIGIDO AQUI
  url      = env("DATABASE_URL")
}

model Cargo {
  idCargo      Int           @id @default(autoincrement())
  nome         String        @unique
  funcionarios Funcionario[]

  @@map("Cargo")
}

model Funcionario {
  id              Int        @id @default(autoincrement())
  nomeFuncionario String
  email           String     @unique
  usuario         String     @unique
  senha           String
  cargoId         Int
  createdAt       DateTime   @default(now())
  cargo           Cargo      @relation(fields: [cargoId], references: [idCargo])
  Chamados        Chamados[]

  @@map("Funcionario")
}

model Categorias {
  id       Int        @id @default(autoincrement())
  nome     String     @unique
  Chamados Chamados[]

  @@map("Categorias")
}

model Chamados {
  id              Int         @id @default(autoincrement())
  assunto         String
  descricao       String
  prioridade      String?     @default("MÃ©dia")
  status          String      @default("Aberto")
  requisitante_id Int
  categoria_id    Int?
  created_at      DateTime?   @default(now())
  Funcionario     Funcionario @relation(fields: [requisitante_id], references: [id])
  Categorias      Categorias? @relation(fields: [categoria_id], references: [id])

  @@map("Chamados")
}